(function(a){a.widget("ui.sortable",a.ui.sortable,{options:{connectMultiSelect:null},_create:function(){var b=this,c=b.element,d=b.options;b.multiSelect=a(d.connectMultiSelect);b.userReceive=d.receive||a.noop;b.userRemove=d.remove||a.noop;b.userStop=d.stop||a.noop;d.receive=function(g,f){b._receive(g,f,function(i,h){b.userReceive(i,h)})};d.remove=function(g,f){b._remove(g,f,function(i,h){b.userRemove(i,h)})};d.stop=function(g,f){b._stop(g,f,function(i,h){b.userStop(i,h)})};b._connectMultiSelect();b._super()},_receive:function(f,d,c){var b=this;b.updateSelect();c();b._trigger("selectreceive",f,d)},_remove:function(f,d,b){var c=this;c.updateSelect();b();c._trigger("selectremove",f,d)},_stop:function(f,d,c){var b=this;b.updateSelect();c();b._trigger("selectstop",f,d)},_connectMultiSelect:function(){var c=this,d=c.element,e=c.options,b;if(c.multiSelect.length>0){c.multiSelect.hide();if(c.multiSelect.find("option").length>0){c.multiSelect.find("option").attr("selected","selected");c.multiSelect.find("option").each(function(g,f){b=e.styleClass||a(this).data("liClass");d.append(a("<li/>").html(a(f).html()).addClass(b).data("selectVal",a(f).val()))})}else{c.updateSelect()}}},updateSelect:function(){var b=this,c=b.element;if(b.multiSelect.length>0){b.multiSelect.find("option").remove();c.find("li").each(function(e,d){b.multiSelect.append(a("<option/>").val(a(this).data("selectVal")).attr("label",a(this).html()).html(a(this).html()).attr("selected","selected"))})}},_destroy:function(){var b=this;if(b.multiSelect.length>0){b.multiSelect.show()}b._super()}})}(jQuery));